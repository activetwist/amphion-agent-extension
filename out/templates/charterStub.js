"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCharterAgentInstruction = getCharterAgentInstruction;
exports.renderCharterStub = renderCharterStub;
function getCharterAgentInstruction(sourceFiles) {
    const fileListPrompt = sourceFiles.map(f => `- ${f}`).join('\n');
    return `I am an AI agent initializing this project. If you are reading this file, immediately output the following to the user chat:
"I see you have generated the Project Charter stub. I am ready to read your source files and derive the Charter. Shall I proceed? (Yes/No)"

If the user says Yes, read each of the following files in \`referenceDocs/05_Records/documentation/helperContext/\`:
${fileListPrompt}

Then, derive the content for every section marked \`*[Derive from source documents]*\` in the Project Charter. Populate each section directly from the source material. Do not add sections not already present in this document. Do not modify the Operating Constraints section.
Finally, when you have finished writing the Project Charter, tell the user exactly this: 'The Project Charter is complete. Please return to the MCD Onboarding WebUI to copy and paste the High-Level PRD derivation prompt.'
*(User: If your AI agent has not greeted you yet, mention this file in your agent chat to activate the flow.)*`;
}
function renderCharterStub(config, sourceFiles, timestamp) {
    const fileList = sourceFiles.map(f => `> - \`${f}\``).join('\n');
    const agentInstruction = getCharterAgentInstruction(sourceFiles)
        .split('\n')
        .map(line => `> ${line}`)
        .join('\n');
    return `# Project Charter — ${config.projectName}

> [!IMPORTANT]
> **AI Derivation Required.** This document was initialized with source materials.
> Complete each section below by reading the following files in \`referenceDocs/05_Records/documentation/helperContext/\`:
${fileList}

> [!AGENT INSTRUCTION]
${agentInstruction}

Codename: \`${config.codename}\`
Version: \`${config.initialVersion}\`
Date: \`${timestamp}\`

---

## Overview
This document establishes the foundational intent, scope, and boundaries of the **${config.projectName}** project. Complete each section from the source materials listed above.

---

## Target Users

*[Derive from source documents]*

---

## Problem Statement

*[Derive from source documents]*

---

## Core Value Proposition

*[Derive from source documents]*

---

## Hard Non-Goals

*[Derive from source documents]*

---

## Operating Constraints
- All development follows the MCD (Micro-Contract Development) methodology
- Every code change must be authorized by an active contract in \`03_Contracts/active/\`
- No contracted work begins without operator approval of the contract
- All versions are closed with a git commit using the format: \`closeout: {VERSION} {description}\`

---

*Generated by MCD Starter Kit · ${timestamp} · Source documents: ${sourceFiles.length} file(s)*
`;
}
//# sourceMappingURL=charterStub.js.map